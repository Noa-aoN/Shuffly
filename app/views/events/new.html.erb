<div class="max-w-6xl mx-auto px-6 pt-2 pb-10">

  <!-- ヘッダ：アイコン + タイトル -->
  <h1 class="text-2xl md:text-3xl font-bold mb-8 flex items-center gap-2">
    <%= image_tag "icons/shuffle_24dp_1F1F1F.svg",
          width: 35,
          height: 35,
          class: "block",
          alt: "シャッフルアイコン" %>
    <span class="leading-none relative bottom-0.5">
      <%= @event.title.presence || "新規シャッフルイベント" %>
    </span>
  </h1>

  <div class="flex flex-col gap-10">
    <%= render 'events/member_input', event: @event %>
    <%= render 'events/settings_panel', event: @event %>
    <%= render 'events/results_panel' %>
    <%= render 'events/share_section', event: @event %>
  </div>

  <!-- トースト通知領域（幅を内容に合わせる・モバイル対応） -->
  <div id="toast" class="fixed left-1/2 transform -translate-x-1/2 bg-white text-black border border-default shadow-xs text-sm dm:text-lg opacity-0 transition-opacity rounded-xl" style="display:inline-block; max-width:90vw; width:auto; white-space:pre-wrap; text-align:center; padding:1rem; box-sizing:border-box;"></div>
</div>

<%= javascript_include_tag "events_new", type: "module", defer: true %>
<script type="module">
  // JavaScriptの初期化
  document.addEventListener('DOMContentLoaded', () => {
    if (window.ShufflyApp) {
      window.ShufflyApp.initialize({
        isSignedIn: <%= user_signed_in? ? 'true' : 'false' %>,
        iconExpand: "<%= asset_path('icons/expand_more_24dp_1F1F1F.svg') %>",
        iconCollapse: "<%= asset_path('icons/keyboard_arrow_up_24dp_1F1F1F.svg') %>",
        newUserSessionPath: "<%= new_user_session_path %>"
      });
      window.ShufflyApp.bindEvents();
    }
  });
</script>
